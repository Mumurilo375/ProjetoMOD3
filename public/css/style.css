/* AvaliaFlix Static CSS - Design System (HSL tokens) */
:root {
  --background: 0 0% 7%;
  --foreground: 210 20% 94%;
  --card: 210 28% 16%;
  --card-foreground: 210 20% 94%;
  --primary: 45 87% 62%;
  --primary-foreground: 240 6% 4%;
  --secondary: 194 82% 31%;
  --secondary-foreground: 210 20% 94%;
  --muted: 210 16% 22%;
  --muted-foreground: 210 14% 80%;
  --border: 210 15% 20%;
  --header: 240 6% 4%;
  --rating-high: 45 87% 62%;
  --rating-mid: 194 82% 31%;
  --rating-low: 0 72% 50%;

  --shadow-elev: 0 10px 30px -10px hsl(0 0% 0% / 0.5);
  --shadow-soft: 0 6px 18px -8px hsl(0 0% 0% / 0.35);
}
* { box-sizing: border-box; }
html { color-scheme: dark; }
body {
  margin: 0;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}
/* Fundo com degradê sutil em camadas (leve e sem imagens externas) */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(100% 80% at 10% -10%, hsl(194 82% 22% / .18), transparent 60%),
    radial-gradient(80% 70% at 100% -10%, hsl(45 87% 32% / .12), transparent 60%),
    radial-gradient(80% 70% at 50% 100%, hsl(240 6% 9% / .6), transparent 60%),
    linear-gradient(hsl(var(--background)), hsl(var(--background)));
  filter: saturate(110%);
}
/* Vinheta bem suave nas bordas para dar profundidade */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background: radial-gradient(120% 80% at 50% 0, transparent 65%, rgba(0,0,0,.22) 100%);
}
img { max-width: 100%; display: block; }
a { color: hsl(var(--secondary)); text-decoration: none; }
a:hover { filter: brightness(1.1); }

.container { max-width: 1120px; margin-inline: auto; padding-inline: 16px; }

/* Header */
.site-header { position: sticky; top: 0; z-index: 50; backdrop-filter: saturate(140%) blur(10px); background: hsl(var(--header) / 0.7); box-shadow: var(--shadow-soft); border-bottom: 1px solid hsl(var(--border)); }
.site-header .inner { display: flex; align-items: center; justify-content: space-between; gap: 16px; padding: 14px 0; }
.brand img { height: 36px; display: block; }
.brand { display: flex; align-items: center; gap: 10px; font-weight: 700; letter-spacing: 0.4px; }
.brand a { color: hsl(var(--foreground)); }
.nav { display: flex; gap: 14px; align-items: center; }
.nav a:not(.btn) { color: hsl(var(--foreground)); opacity: 0.9; padding: 6px 8px; border-radius: 6px; position: relative; transition: opacity .15s ease, color .15s ease; }
.nav a:not(.btn)::after { content: ""; position: absolute; left: 8px; right: 8px; bottom: 2px; height: 2px; background: hsl(var(--muted-foreground) / .35); border-radius: 2px; transform: scaleX(0); transform-origin: left; transition: transform .18s ease; }
.nav a:not(.btn):hover { opacity: 1; }
.nav a:not(.btn):hover::after { transform: scaleX(1); background: hsl(var(--primary)); }
.nav a:focus-visible { outline: 2px solid hsl(var(--primary)); outline-offset: 2px; }
.brand a:focus-visible, .btn:focus-visible { outline: 2px solid hsl(var(--primary)); outline-offset: 2px; }

/* Buttons */
.btn { display: inline-flex; align-items: center; gap: 8px; padding: 10px 14px; border-radius: 12px; border: 1px solid hsl(var(--border)); background: hsl(var(--muted)); color: hsl(var(--foreground)); cursor: pointer; transition: transform .15s ease, filter .2s ease, box-shadow .2s ease; }
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }
.btn-primary {
  background: linear-gradient(180deg, hsl(45 87% 58%), hsl(45 87% 52%));
  color: hsl(var(--primary-foreground));
  border-color: hsl(45 87% 50% / .9);
  box-shadow: 0 2px 8px hsl(45 87% 45% / 0.18);
  font-weight: 600;
}
.btn-primary:hover {
  transform: translateY(-1px);
  filter: brightness(1.03);
  box-shadow: 0 4px 10px hsl(45 87% 45% / 0.2);
}
.btn-primary:active {
  transform: translateY(0);
  filter: none;
  box-shadow: 0 1px 4px hsl(45 87% 45% / 0.18);
}
.btn-secondary { background: hsl(var(--secondary)); color: hsl(var(--secondary-foreground)); border-color: hsl(var(--secondary)); }
.btn-ghost { background: transparent; color: hsl(var(--foreground)); }

/* Cards */
.card { background: hsl(var(--card)); color: hsl(var(--card-foreground)); border: 1px solid hsl(var(--border)); border-radius: 14px; box-shadow: var(--shadow-elev); padding: 16px; }
.card:hover { transform: translateY(-2px); transition: transform .2s ease; }

/* Rating */
.rating-box { display: inline-block; padding: 4px 8px; border-radius: 8px; font-weight: 700; font-size: 12px; }
.rating-high { background: hsl(var(--rating-high)); color: hsl(var(--primary-foreground)); }
.rating-mid { background: hsl(var(--rating-mid)); color: hsl(var(--secondary-foreground)); }
.rating-low { background: hsl(var(--rating-low)); color: hsl(210 20% 94%); }

/* Nota 0–100 badge */
.score-badge { display:inline-grid; place-items:center; min-width:46px; height:46px; padding:6px 8px; border-radius:12px; background:hsl(120 50% 15% / .2); border:1px solid hsl(120 45% 35% / .35); box-shadow: 0 2px 8px hsl(0 0% 0% / .25); }
.score-badge .label { font-size:10px; letter-spacing:.6px; font-weight:700; color:hsl(120 45% 65%); margin-top:-2px; }
.score-badge .value { font-size:20px; line-height:1; font-weight:800; color:hsl(124 42% 52%); }
.score-high { --score-h:124; --score-s:42%; --score-l:52%; background:hsl(var(--score-h) var(--score-s) calc(var(--score-l) - 40%) / .2); border-color:hsl(var(--score-h) var(--score-s) calc(var(--score-l) - 10%) / .55); }
.score-mid  { --score-h:45;  --score-s:87%; --score-l:56%; background:hsl(var(--score-h) var(--score-s) 20% / .2); border-color:hsl(var(--score-h) var(--score-s) 40% / .55); }
.score-low  { --score-h:0;   --score-s:72%; --score-l:50%; background:hsl(var(--score-h) var(--score-s) 12% / .2); border-color:hsl(var(--score-h) var(--score-s) 36% / .55); }

.poster-wrap { position:relative; }
.poster-wrap img { display:block; width:100%; aspect-ratio:2/3; object-fit:cover; border-radius:12px; border:1px solid hsl(var(--border)); box-shadow: var(--shadow-soft); }
.poster-wrap .score { position:absolute; left:8px; top:8px; }

/* Hero */
.hero { padding: 48px 0 64px; position: relative; background-color: transparent; overflow: hidden; }

/* camada que contém a imagem (com o degradê aplicado diretamente sobre ela) */
.hero-media {
  position: absolute;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 65%;
  height: 100%;
  background-image: url('https://www.usatoday.com/gcdn/authoring/authoring-images/2024/04/08/USAT/73239761007-joker-2-vert-tsr-standard-2764-x-4096-dom.jpg?crop=2745,1545,x3,y202');
  background-repeat: no-repeat;
  background-position: center top;
  background-size: cover;
}

/* degradê e vinhetas aplicadas diretamente sobre a imagem (na mesma camada) */
.hero-media::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(closest-side at 6% 50%, rgba(0,0,0,0.96), rgba(0,0,0,0) 50%),
    radial-gradient(closest-side at 94% 50%, rgba(0,0,0,0.96), rgba(0,0,0,0) 50%),
    linear-gradient(180deg, rgba(0,0,0,0) 6%, rgba(0,0,0,0.45) 40%, rgba(0,0,0,0.95) 100%);
  background-blend-mode: normal, normal, multiply;
}

/* Overlay que cria o degradê lateral/inferior e faz a imagem 'fundir' com o fundo escuro */
.hero::before { display: none; }

/* garantir que o conteúdo do hero fique acima do overlay */
.hero .container { position: relative; z-index: 3; }
.hero-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 32px; align-items: center; }
.hero h1 { font-family: "Space Grotesk", Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial; font-size: clamp(32px, 4vw, 48px); line-height: 1.1; margin: 0 0 12px; letter-spacing: .2px; }
.hero p { color: hsl(var(--muted-foreground)); margin: 0 0 24px; }

/* Search */
.search { display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center; }
.search select, .search input { height: 44px; border-radius: 12px; border: 1px solid hsl(var(--border)); background: hsl(var(--background)); color: hsl(var(--foreground)); padding: 0 12px; }
.search input::placeholder { color: hsl(var(--muted-foreground)); }
.search button { height: 44px; padding: 8px 12px; }
.search .btn { padding: 8px 12px; }

/* Reels */
.reels { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; height: 520px; overflow: hidden; }
.reel { display: grid; gap: 12px; }
.reel > img { width: 100%; aspect-ratio: 2/3; object-fit: cover; border-radius: 12px; border: 1px solid hsl(var(--border)); box-shadow: var(--shadow-soft); }
.reel .poster-wrap { width:100%; margin:0; }
.reel .poster-wrap img { width:100%; height:auto; aspect-ratio:2/3; object-fit:cover; display:block; border-radius:12px; border:1px solid hsl(var(--border)); box-shadow: var(--shadow-soft); }
.reel .poster-wrap .score { left:8px; top:8px; }
.reel.anim1 { animation: scrollY 12s linear infinite; }
.reel.anim2 { animation: scrollY 12s linear infinite reverse; }
.reel.anim3 { animation: scrollY 12s linear infinite; }
.reel:hover { animation-play-state: paused; }
@keyframes scrollY { 0% { transform: translateY(0); } 100% { transform: translateY(-50%); } }

/* Fade top/bottom nos carrosséis para suavizar o corte das capas */
.reels {
  -webkit-mask-image: linear-gradient(to bottom, transparent 0, black 10%, black 90%, transparent 100%);
  mask-image: linear-gradient(to bottom, transparent 0, black 10%, black 90%, transparent 100%);
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
}

/* overlay garantido acima do background (fallback caso gradientes no background não apareçam) */
.hero::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  background-image:
    radial-gradient(closest-side at 6% 50%, rgba(0,0,0,0.98) 0%, rgba(0,0,0,0) 50%),
    radial-gradient(closest-side at 94% 50%, rgba(0,0,0,0.98) 0%, rgba(0,0,0,0) 50%),
    linear-gradient(180deg, rgba(0,0,0,0) 6%, rgba(0,0,0,0.45) 40%, rgba(0,0,0,0.95) 100%);
  background-blend-mode: normal, normal, multiply;
}

/* Sections */
.section { padding: 48px 0; }
.section h2 { margin: 0 0 16px; font-size: 24px; }
.grid { display: grid; gap: 16px; }
.grid.cols-6 { grid-template-columns: repeat(6, 1fr); }
.grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
.grid.cols-2 { grid-template-columns: repeat(2, 1fr); }
@media (max-width: 900px) { .hero-grid { grid-template-columns: 1fr; } .reels { height: 420px; } .grid.cols-6 { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 640px) { .search { grid-template-columns: 1fr; } .grid.cols-6 { grid-template-columns: repeat(2, 1fr); } }

/* Footer */
footer { border-top: 1px solid hsl(var(--border)); padding: 32px 0; }
footer nav { display: flex; gap: 16px; }

/* User menu */
.user { position: relative; }
.user .user-btn { display:inline-flex; align-items:center; gap:8px; }
.user .user-btn svg { opacity:.9; }
.user-menu { position: absolute; right: 0; top: 110%; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); border-radius: 12px; padding: 8px; width: 220px; box-shadow: var(--shadow-elev); display: none; }
.user-menu a, .user-menu button { display: block; width: 100%; text-align: left; padding: 10px 12px; color: hsl(var(--foreground)); background: transparent; border: 0; border-radius: 8px; cursor: pointer; }
.user-menu a:hover, .user-menu button:hover { background: hsl(var(--muted)); }
.user.open .user-menu { display: block; }

/* Avatar + badge ADM */
.avatar { display:inline-grid; place-items:center; width:26px; height:26px; border-radius:50%; background:hsl(0 0% 8%); border:1px solid hsl(var(--border)); }
.avatar svg { opacity:.9; }
.avatar.admin { position:relative; }
.avatar.admin::after { content:""; position:absolute; inset:-2px; border-radius:50%; padding:2px; background:
  conic-gradient(from 0turn,
    hsl(45 96% 62%) 0 25%,
    hsl(45 96% 54%) 25% 50%,
    hsl(45 96% 60%) 50% 75%,
    hsl(45 96% 68%) 75% 100%
  );
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
}

/* Stars */
.stars { display: inline-flex; gap: 6px; cursor: pointer; }
.star { font-size: 20px; color: hsl(var(--muted-foreground)); }
.star.active { color: hsl(var(--rating-high)); }

/* Modal de avaliação */
.modal[aria-hidden="true"] { display: none; }
.modal { position: fixed; inset: 0; z-index: 100; display: grid; place-items: center; }
.modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,.6); }
.modal-content { position: relative; background: hsl(var(--card)); color: hsl(var(--card-foreground)); border:1px solid hsl(var(--border)); border-radius: 14px; box-shadow: var(--shadow-elev); width: min(940px, 92vw); max-height: 90vh; overflow: auto; padding: 16px; }
.modal-close { position: absolute; top: 8px; right: 10px; background: transparent; color: hsl(var(--muted-foreground)); border:0; font-size: 26px; cursor:pointer; }

.rate-header { padding: 6px 8px 12px; border-bottom: 1px solid hsl(var(--border)); }
.rate-title { margin:0; font-size: 22px; font-weight: 700; }

.rate-body { display:grid; grid-template-columns: 180px 1fr; gap:16px; padding: 14px 8px; }
.rate-left img { width: 180px; height: 270px; object-fit: cover; border-radius: 12px; border:1px solid hsl(var(--border)); box-shadow: var(--shadow-soft); }
.rate-meta { margin-top: 8px; }
.rate-meta .meta-year, .rate-meta .meta-genre { color:hsl(var(--muted-foreground)); font-size:13px; }
.meta-genre { margin-top: 4px; }

.rate-right .field { display:grid; gap:6px; margin: 10px 0 12px; }
.rate-right input[type="number"], .rate-right textarea { border-radius: 12px; border:1px solid hsl(var(--border)); background: hsl(var(--background)); color:hsl(var(--foreground)); padding: 10px 12px; }
.rate-right input[type="number"] { max-width: 160px; }

.rate-footer { display:flex; justify-content:flex-end; gap:10px; padding: 6px 8px 8px; border-top: 1px solid hsl(var(--border)); }
